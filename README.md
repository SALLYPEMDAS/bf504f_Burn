# bf504f_Burn
Старая сейсмостанция 2012г. Для поддержки . BF504f+ADS1282+MagicXtal. Bare metal. w/out OS
версия 114
  а) Добавил чтение статуса в компасе и акселерометре. Изменил data rate для обоих: 10 и 7.5. Данные остаются в регистрах до чтения.
  
  b) Изменил функцию расчета углов - заменил на tan2. Переделать по типу iNemo от STM!
  
  c) Угол поворота  от 0..180 0..-180
  
  d) Убрал определения частот генератора. Частота генератора передается параметром при компиляции.
  
  e) Падение напряжения при котором выключаем питание  - повышено до 8.5 вольт!
  
  f) Добавил настройку тактов для FLASH
  
  g) Сделал возможность подачи "своего" пережига после отработки модемного
  
  h) Изменил название check_magnet_request на check_magnet_and_power_request по смыслу
  
  i) уменьшил в 2 раза время включения и переключения магнитом
  
  j) Исправил ошибку в опросе статуса компаса/акселерометра
  
  k) FLASH init перенес в начало программы
  
  l) Перетаскиваю параметры в файл config.h - сейчас  POWER_DROP_MIN
  
  m) выключение регистратора при напряжении ниже 7.5 В
  
  n) Добавил получение "Продолжительность внутреннего пережига"
  
  o) Добавил частоту 125 Гц - децимация на 2 от 250
  
  p) добавил вывод времени пережига внутреннего и внешнего. Отмечается в логе: [[[[[[[[[[[ ******  ]]]]]]]]]]]
  
  q) Добавил какой генератор используется - печатается в начале лога
  
  r) Моргание светодиодами при втором пережиге не изменяет текущего моргания.
  
  s) Проверка готовности АЦП. Если есть готовность - при тесте считает количество прерываний. Если 0 - завершение с ошибкой.
  
